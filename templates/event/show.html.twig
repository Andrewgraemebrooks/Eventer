{% extends 'base.html.twig' %}

{% block body %}
  <div class="container show">
    {% if events %}
      {# If there are events in the database, show the event table #}
      <table id="events" class="table">
        <thead>
          <tr>
            <th class="text-center">
              Event
            </th>
            <th class="text-center">
              Venue
            </th>
            <th class="text-center">
              Description
            </th>
            <th class="text-center">
              Date
            </th>
            <th class="text-center">
              Time
            </th>
            <th class="text-center">
              Duration
            </th>
            <th class="text-center">
              Update
            </th>
            <th class="text-center">
              Delete
            </th>
          </tr>
        </thead>
        <tbody>
          {% for event in events %}
            <tr>
              <td class="text-center">
                {{ event.name }}
              </td>
              <td class="text-center">
                {{ event.venue }}
              </td>
              <td class="text-center">
                {{ event.description }}
              </td>
              <td class="text-center">
                {{ event.date.format('d/m/Y') }}
              </td>
              <td class="text-center">
                {{ event.date.format('H:i') }}
              </td>
              <td class="text-center">
                {{ event.duration }} Mins
              </td>
              <td class="text-center">
                <a href="/update-event/{{ event.id }}"
                  class="btn btn-info btn-sm update-event">
                  Update
                </a>
              </td>
              <td class="text-center">
                <a href="#"
                  class="btn btn-danger btn-sm delete-event"
                  data-id="{{ event.id }}">
                  Delete
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      <div class="flex-container">
        <div class="flex-item">
          <a href="/create-event"
            class="btn btn-success mt-3 show-create-event-button">
            Create an event
          </a>
        </div>
      </div>
    {% else %}
      {# If there aren't any events then display a "No Events" message #}
      <h3 class="text-center pt-5">
        No Events To Display
      </h3>
      <div class="flex-container">
        <div class="flex-item">
          <a href="/create-event"
            class="btn btn-success mt-3 show-create-event-button">
            Create an event
          </a>
        </div>
      </div>
    {% endif %}
  </div>
{% endblock %}

{% block javascripts %}
  <script src="js/main.js"></script>
{% endblock %}
